{% extends 'blog/base.html' %}

{% block title %}Search Results - Django Blog{% endblock %}

{% block content %}
    <h1>Search Results</h1>

    <p>Search query: <strong>"{{ query }}"</strong></p>
    <p>Found <strong>{{ posts.count }}</strong>result{{ posts.count|pluralize }}</p>

    {% if posts %}
        { for post in posts %%}
            <h2><a href="{% url 'post-detail' post.pk %}">{{ post.title }}</a></h2>
            <div>
                <span>By {{ post.author.username }}</span>
                <span>{{ post.published_date|date:"F d, Y" }}</span>
            </div>

            {% if post.tags.all %}
                <div>
                    {% for tag in post.tags.all %}
                        <a href="{% url 'tagged-pots' tag.slug %}">{{ tag.name }}</a>
                    {% endfor %}
                </div>
            {% endif %}

            <p>{{ post.content|truncatewords:50 }}</p>
            <a href="{% url 'post-detail' post.pk %}">Read More &rAarr;</a>
        {% endfor %}
    {% endif %}
{% ednblock %}