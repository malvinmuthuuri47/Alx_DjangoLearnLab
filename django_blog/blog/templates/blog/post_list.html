{% extends 'blog/base.html' %}

{% block title %}Blog Posts - Django Blog{% endblock %}

{% block content %}
    <h1>Blog Posts</h1>
    {% if user.is_authenticated %}
        <a href="{% url 'post-create' %}">Create New Post</a>
    {% endif %}

    {% if posts %}
        {% for post in posts %}
            <h2>{{ post.title }}</h2>
            <p>By {{ post.author.username }}</p>
            <p>Publication date: {{ post.published_date|date:"F d, Y" }}</p>
            <p>{{ post.content|truncatewords:50 }}</p>
            <a href="{% url 'post-detail' post.pk %}">Read More &rarr;</a>
        {% endfor %}
    {% endif %}
{% endblock %}